name: C/C++ CI

on:
  push:
    branches: [ "master" ]
  pull_request:
    branches: [ "master" ]

jobs:
  build:

    runs-on: ubuntu-latest
    container: devkitpro/devkitarm

    steps:
    - uses: actions/checkout@v4
    - name: make libctrpf
      working-directory: ${{github.workspace}}/libctrpf/Library
      run: make
    - name: make root
      working-directory: ${{github.workspace}}
      run: |
           chmod +x 3gxtool
           cp 3gxtool /opt/devkitpro/tools/bin/
           make
      
      
